<template name="hangoutCard">
    <a href="{{pathFor 'hangout' hangoutId=_id }}" class="hangout-card">

        <h4 class="hangout-date"><small><i class="fa fa-calendar"></i>  {{getHangoutStartDateTime start}}</small></h4>

        <h4 class="hangout-topic">{{truncate topic}}</h4>

        <h4>
          <small class="hangout-details">
              <i class="fa {{getHangoutTypeSign type}}"></i> Started by
                {{#unless currentUser}}
                  <a href="#" class="{{#unless currentUser}} continue-popup {{/unless}}">{{host.name}}</a>
                {{else}}
                  <a href="{{pathFor 'profile' name=host.name userId=host.id}}">{{host.name}}</a>
                {{/unless}}
           </small>
            <small class="hangout-details details-extra">
                {{users.length}} Joined
                {{#if views}}| <i class="fa fa-eye" aria-hidden="true" data-toggle="tooltip" title="Views" > {{views}} </i> {{/if}}
            </small>

        </h4>
         {{# unless isHangoutCompleted end }}

            {{#if isHangoutInProgress start end}}

              {{#if isAttending users}}
                  <a class="btn btn-cb2 btn-grey btn-success" href="{{pathFor 'hangout' hangoutId=_id }}">{{_ "launch"}}</a>
              {{else}}
                {{# unless isHangoutCompleted end}}
                  <button class="btn btn-cb2 join-hangout {{#unless currentUser}} continue-popup {{/unless}}">{{_ "join_in_session"}}</button>
                {{/unless}}
              {{/if}}

            {{else}}

              {{#if isAttending users}}
                <p class="upcoming">{{upcomingTime start}}</p>
                <a id="leave-hangout" class="align-center">{{_ "leave"}}</a>
              {{else}}

                {{# unless isHangoutCompleted end}}
                  <!-- <button id="join-hangout" class="btn btn-cb2">{{_ "rsvp"}}</button> -->
                  <button class="btn btn-cb2 {{#if currentUser}} join-hangout {{else}} continue-popup {{/if}}">{{_ "rsvp"}}</button>
                {{/unless}}

              {{/if}}

            {{/if}}
          {{else}}
            <p class="completed">completed</p>
          {{/unless}}
  </a>

</template>

